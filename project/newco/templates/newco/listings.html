{% extends 'newco/layout.html' %}
{% include 'newco/messages.html' %}
{% block title %}Jobs{% endblock %}
{% block body %}
{% if jobs %}
    <div class="w-100 h-auto center">
        <div class="w-50 d-block m-3">
            {% if searched %}
                <div class="h5">Your Search Results</div> 
            {% else %}
                <div class="h5">Showing all jobs</div> 
            {% endif %}
            {% for job in jobs %}
                <hr>
                <a href="post/{{ job.id }}" class="w-100">
                    <div class="post form w-100 flex-row nothover">
                        <div class="flex-column w-100">
                            <div class="w-100 lead" style="font-weight: 600;">{{ job.title }}</div>
                            <div class="w-100">{{ job.job_specification }}</div>
                            <div class="w-100"><svg xmlns="http://www.w3.org/2000/svg" height="18" width="18" viewBox="50 -850 850 900" stroke-width="5" stroke="black"><path d="M540-172 306-416v-44h114q63 0 116-39.5T588-616H266v-28h320q-11-51-57-83.5T420-760H266v-28h428v28H528q33 17 57 48.5t29 67.5h80v28h-78q2 85-58 134.5T420-432h-90l249 260h-39Z"/></svg>{{ job.salary }}</div>
                            <div class="w-100"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 30 30" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-map-pin"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>{{ job.location }}</div>
                            <!-- <div class="w-100" style="opacity: 0.5;">{{ job.description }}</div> -->
                        </div>
                    </a> 
                    {% if job.user.username != request.user.username %}
                        <div class="d-inline-flex flex-row" style="gap: 5px;height: 25px; transition: all 0.3s;">
                            <a href="" class="a-hover">u/{{ job.user.username }}</a>
                            {% if job.user.userprofile.is_verified %}
                            <!-- 'userprofile' this shit took 2 hours to be figured -->
                                <svg xmlns="http://www.w3.org/2000/svg" style="margin-top: 7%;" width="18" height="18" viewBox="0 0 600 600" >
                                    <path d="M0 0 C1.01790619 0.00215515 2.03581238 0.0043103 3.08456421 0.00653076 C17.69363523 0.05620146 32.02575853 0.30709809 46.375 3.3125 C47.34985352 3.51117676 48.32470703 3.70985352 49.32910156 3.91455078 C88.37782454 12.08284366 124.83813271 27.70153311 156.375 52.3125 C157.27089844 52.99699219 158.16679687 53.68148437 159.08984375 54.38671875 C174.64561709 66.50203669 189.29582193 80.73146847 201.375 96.3125 C202.14972656 97.27027344 202.92445313 98.22804688 203.72265625 99.21484375 C238.26056965 142.61986011 256.81394766 197.76289597 256.69067383 253.03979492 C256.6875221 255.97938487 256.71104926 258.9179558 256.73632812 261.85742188 C256.78098737 275.23056192 255.57551542 288.12666711 253.375 301.3125 C253.09281616 303.01805054 253.09281616 303.01805054 252.80493164 304.75805664 C245.77946967 343.86954746 228.79665906 381.05202178 204.375 412.3125 C203.61574219 413.28445313 202.85648437 414.25640625 202.07421875 415.2578125 C189.73986402 430.63741644 175.93895499 445.19015196 160.375 457.3125 C159.43914062 458.07691406 158.50328125 458.84132813 157.5390625 459.62890625 C125.58628299 485.2157721 86.41988322 501.72551276 46.375 509.3125 C45.56562988 509.47621094 44.75625977 509.63992188 43.92236328 509.80859375 C13.88110013 515.67977137 -20.7615176 514.58512909 -50.625 508.3125 C-52.14794678 507.99901611 -52.14794678 507.99901611 -53.70166016 507.67919922 C-90.84546555 499.78695344 -125.70945445 483.68345578 -155.625 460.3125 C-156.59695312 459.55324219 -157.56890625 458.79398437 -158.5703125 458.01171875 C-173.94991644 445.67736402 -188.50265196 431.87645499 -200.625 416.3125 C-201.77162109 414.90871094 -201.77162109 414.90871094 -202.94140625 413.4765625 C-228.5282721 381.52378299 -245.03801276 342.35738322 -252.625 302.3125 C-252.78871094 301.50312988 -252.95242187 300.69375977 -253.12109375 299.85986328 C-258.59069558 271.87335724 -258.46977511 238.21828161 -252.625 210.3125 C-252.42632324 209.33764648 -252.22764648 208.36279297 -252.02294922 207.35839844 C-241.93598313 159.13741149 -219.89911449 114.53770064 -185.40722656 79.14160156 C-183.63301167 77.32072238 -181.87518486 75.48496071 -180.1171875 73.6484375 C-173.01562574 66.30860161 -165.60158994 59.73928631 -157.40917969 53.64355469 C-155.59628085 52.2910746 -153.80174757 50.91656557 -152.0078125 49.5390625 C-143.60124472 43.15234877 -134.85975388 37.61076633 -125.65234375 32.45166016 C-123.78933792 31.40484113 -121.94116361 30.33571119 -120.09375 29.26171875 C-83.4933446 8.69459905 -41.63834482 -0.15855121 0 0 Z " fill="#2196F3" transform="translate(255.625,-0.3125)"/>
                                    <path d="M0 0 C5.97598982 3.23932158 8.84725141 8.13200283 11.8125 14.0625 C12.05078125 16.12890625 12.05078125 16.12890625 12.125 18.625 C12.18107422 19.83349609 12.18107422 19.83349609 12.23828125 21.06640625 C10.60460053 32.56212285 2.20058696 39.3912576 -5.60986328 47.14770508 C-7.00410663 48.55036909 -8.39729327 49.95408414 -9.789505 51.35876465 C-13.56114781 55.15739971 -17.34843683 58.94005822 -21.1396203 62.71917939 C-24.30793538 65.88034983 -27.468387 69.04932314 -30.62886322 72.2183277 C-38.0867342 79.69613309 -45.55725816 87.16112537 -53.03613281 94.61791992 C-60.74173601 102.3011591 -68.42714535 110.00417264 -76.10264218 117.71747857 C-82.70334739 124.34944897 -89.31568277 130.96965956 -95.9375838 137.58046645 C-99.88804127 141.52444684 -103.83416649 145.47251748 -107.76944351 149.43165016 C-111.47096768 153.15446847 -115.18688195 156.8623061 -118.91419029 160.55930328 C-120.27621432 161.91501481 -121.6332004 163.27581043 -122.98459435 164.64211845 C-130.85642313 172.59371542 -137.24690063 178.78633224 -148.6875 180.625 C-157.40305395 179.22428597 -163.91555548 174.07799708 -169.96044922 167.95239258 C-171.02101784 166.90737579 -171.02101784 166.90737579 -172.10301208 165.84124756 C-174.41216622 163.55896468 -176.70269001 161.25901987 -178.9921875 158.95703125 C-180.60433626 157.35079863 -182.21715072 155.74523391 -183.83059692 154.14030457 C-187.19910913 150.78363752 -190.55822465 147.41790551 -193.91113281 144.0456543 C-198.19632349 139.73756449 -202.50588247 135.45483098 -206.82304192 131.17880726 C-210.15556101 127.87192913 -213.47381233 124.55101774 -216.78808975 121.22586632 C-218.3710922 119.64138298 -219.95865258 118.06143908 -221.55093002 116.48627663 C-223.77905385 114.27823833 -225.98696846 112.05171487 -228.19091797 109.81958008 C-228.84343033 109.18078415 -229.49594269 108.54198822 -230.16822815 107.88383484 C-235.58500651 102.32857838 -238.51697493 96.23465601 -239.75 88.5625 C-238.73584915 82.25222802 -236.03700716 76.28707613 -231.125 72.0625 C-226.68224513 69.03764562 -223.88064322 67.75800704 -218.4375 67.6875 C-217.45265625 67.65914063 -216.4678125 67.63078125 -215.453125 67.6015625 C-204.94519338 69.08473945 -198.42417955 77.30736294 -191.375 84.484375 C-190.15419946 85.71264608 -188.93250519 86.94002944 -187.70996094 88.16656494 C-184.51177279 91.37994522 -181.32578617 94.60515824 -178.14227295 97.83306885 C-174.88474759 101.13168579 -171.61571287 104.4188536 -168.34765625 107.70703125 C-161.94968361 114.14776133 -155.564555 120.60106306 -149.1875 127.0625 C-145.3546049 125.48242969 -142.94726007 123.05850144 -140.04606628 120.13465881 C-139.54122705 119.62870617 -139.03638782 119.12275352 -138.51625043 118.60146898 C-136.82660213 116.90575104 -135.14421969 115.2030035 -133.46166992 113.50024414 C-132.2512384 112.28269967 -131.04033483 111.06562432 -129.82899475 109.84898376 C-127.2213121 107.22819965 -124.61667231 104.60444102 -122.01424217 101.97844124 C-117.89752022 97.8251359 -113.77211491 93.68053055 -109.64509583 89.53746033 C-97.9107572 77.75481817 -86.18817399 65.96052177 -74.47436523 54.1574707 C-68.00480565 47.63877678 -61.52804952 41.12731919 -55.04352456 34.62351125 C-50.94101597 30.50792994 -46.84768042 26.3835035 -42.76092756 22.2522794 C-40.2136155 19.68147065 -37.65794486 17.11909975 -35.09985924 14.55901527 C-33.91724665 13.37211551 -32.73806915 12.18178136 -31.5626564 10.98775101 C-29.9542241 9.35484097 -28.33378612 7.73483112 -26.70988464 6.11732483 C-25.35572842 4.75374139 -25.35572842 4.75374139 -23.97421551 3.36261082 C-16.61194216 -2.71409293 -8.71274894 -3.78075742 0 0 Z " fill="#F9F9F9" transform="translate(380.1875,166.9375)"/>
                                </svg>
                            {% endif %}            
                                        
                        </div>
                        <div class="w-25 center" style="height: 90px;">
                            {% if request.user not in job.applied.all %}
                                <a href="post/apply/{{ job.id }}">
                                    <button type="button">Apply</button>
                                </a>
                            {% else %}                                    
                                <button type="button" disabled style="opacity: 0.4;cursor: not-allowed">Applied</button>                                    
                            {% endif %}
                            </div>
                    {% else %}                    
                        <div class="d-inline-flex flex-row-reverse" style="height: 25px; transition: all 0.3s;">
                            <a href="profile/{{ job.user.username }}" class="a-hover">you</a>
                        </div>
                    {% endif %}
                </div>
            {% endfor %}
        </div>         
    </div>         
{% else %}
<div class="w-100 h-75 center">
    <div class="display-6 h1">No jobs posted yet</div>
</div>
{% endif %}
{% endblock %}